// AUTOGENERATED FILE
#pragma once

#include "barretenberg/vm2/constraining/relations/relation_macros.hpp"
#include "barretenberg/vm2/generated/relations/bc_retrieval.hpp"

namespace bb::avm2 {

template <typename FF_>
template <typename ContainerOverSubrelations, typename AllEntities>
void bc_retrievalImpl<FF_>::accumulate(ContainerOverSubrelations& evals,
                                       const AllEntities& in,
                                       [[maybe_unused]] const RelationParameters<FF_>&,
                                       [[maybe_unused]] const FF_& scaling_factor)
{
    using C = ColumnAndShifts;

    const auto constants_MAX_PUBLIC_CALLS_TO_UNIQUE_CONTRACT_CLASS_IDS = FF(21);
    const auto constants_AVM_RETRIEVED_BYTECODES_TREE_INITIAL_SIZE = FF(1);
    const auto bc_retrieval_REMAINING_BYTECODES = ((constants_MAX_PUBLIC_CALLS_TO_UNIQUE_CONTRACT_CLASS_IDS +
                                                    constants_AVM_RETRIEVED_BYTECODES_TREE_INITIAL_SIZE) -
                                                   in.get(C::bc_retrieval_prev_retrieved_bytecodes_tree_size));
    const auto bc_retrieval_TOO_MANY_BYTECODES =
        in.get(C::bc_retrieval_no_remaining_bytecodes) * in.get(C::bc_retrieval_is_new_class);

    {
        using View = typename std::tuple_element_t<0, ContainerOverSubrelations>::View;
        auto tmp =
            static_cast<View>(in.get(C::bc_retrieval_sel)) * (FF(1) - static_cast<View>(in.get(C::bc_retrieval_sel)));
        std::get<0>(evals) += (tmp * scaling_factor);
    }
    { // TRACE_CONTINUITY
        using View = typename std::tuple_element_t<1, ContainerOverSubrelations>::View;
        auto tmp = (FF(1) - static_cast<View>(in.get(C::bc_retrieval_sel))) *
                   (FF(1) - static_cast<View>(in.get(C::precomputed_first_row))) *
                   static_cast<View>(in.get(C::bc_retrieval_sel_shift));
        std::get<1>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<2, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::bc_retrieval_instance_exists)) *
                   (FF(1) - static_cast<View>(in.get(C::bc_retrieval_instance_exists)));
        std::get<2>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<3, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::bc_retrieval_no_remaining_bytecodes)) *
                   (FF(1) - static_cast<View>(in.get(C::bc_retrieval_no_remaining_bytecodes)));
        std::get<3>(evals) += (tmp * scaling_factor);
    }
    { // NO_REMAINING_BYTECODES
        using View = typename std::tuple_element_t<4, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::bc_retrieval_sel)) *
                   ((CView(bc_retrieval_REMAINING_BYTECODES) *
                         (static_cast<View>(in.get(C::bc_retrieval_no_remaining_bytecodes)) *
                              (FF(1) - static_cast<View>(in.get(C::bc_retrieval_remaining_bytecodes_inv))) +
                          static_cast<View>(in.get(C::bc_retrieval_remaining_bytecodes_inv))) -
                     FF(1)) +
                    static_cast<View>(in.get(C::bc_retrieval_no_remaining_bytecodes)));
        std::get<4>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<5, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::bc_retrieval_sel)) *
                   (FF(1) - static_cast<View>(in.get(C::bc_retrieval_instance_exists))) *
                   static_cast<View>(in.get(C::bc_retrieval_is_new_class));
        std::get<5>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<6, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::bc_retrieval_sel)) *
                   (static_cast<View>(in.get(C::bc_retrieval_instance_exists)) *
                        (FF(1) - CView(bc_retrieval_TOO_MANY_BYTECODES)) -
                    (FF(1) - static_cast<View>(in.get(C::bc_retrieval_error))));
        std::get<6>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<7, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::bc_retrieval_should_retrieve)) -
                    static_cast<View>(in.get(C::bc_retrieval_sel)) *
                        (FF(1) - static_cast<View>(in.get(C::bc_retrieval_error))));
        std::get<7>(evals) += (tmp * scaling_factor);
    }
    { // CURRENT_CLASS_ID_IS_ZERO_IF_INSTANCE_DOES_NOT_EXIST
        using View = typename std::tuple_element_t<8, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::bc_retrieval_sel)) *
                   (FF(1) - static_cast<View>(in.get(C::bc_retrieval_instance_exists))) *
                   static_cast<View>(in.get(C::bc_retrieval_current_class_id));
        std::get<8>(evals) += (tmp * scaling_factor);
    }
    { // ARTIFACT_HASH_IS_ZERO_IF_ERROR
        using View = typename std::tuple_element_t<9, ContainerOverSubrelations>::View;
        auto tmp =
            static_cast<View>(in.get(C::bc_retrieval_error)) * static_cast<View>(in.get(C::bc_retrieval_artifact_hash));
        std::get<9>(evals) += (tmp * scaling_factor);
    }
    { // PRIVATE_FUNCTION_ROOT_IS_ZERO_IF_ERROR
        using View = typename std::tuple_element_t<10, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::bc_retrieval_error)) *
                   static_cast<View>(in.get(C::bc_retrieval_private_function_root));
        std::get<10>(evals) += (tmp * scaling_factor);
    }
    { // BYTECODE_ID_IS_ZERO_IF_ERROR
        using View = typename std::tuple_element_t<11, ContainerOverSubrelations>::View;
        auto tmp =
            static_cast<View>(in.get(C::bc_retrieval_error)) * static_cast<View>(in.get(C::bc_retrieval_bytecode_id));
        std::get<11>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<12, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::bc_retrieval_error)) *
                   (static_cast<View>(in.get(C::bc_retrieval_next_retrieved_bytecodes_tree_root)) -
                    static_cast<View>(in.get(C::bc_retrieval_prev_retrieved_bytecodes_tree_root)));
        std::get<12>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<13, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::bc_retrieval_error)) *
                   (static_cast<View>(in.get(C::bc_retrieval_next_retrieved_bytecodes_tree_size)) -
                    static_cast<View>(in.get(C::bc_retrieval_prev_retrieved_bytecodes_tree_size)));
        std::get<13>(evals) += (tmp * scaling_factor);
    }
}

} // namespace bb::avm2
