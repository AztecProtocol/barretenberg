// AUTOGENERATED FILE
#pragma once

#include "barretenberg/vm2/constraining/relations/relation_macros.hpp"
#include "barretenberg/vm2/generated/relations/ecc.hpp"

namespace bb::avm2 {

template <typename FF_>
template <typename ContainerOverSubrelations, typename AllEntities>
void eccImpl<FF_>::accumulate(ContainerOverSubrelations& evals,
                              const AllEntities& in,
                              [[maybe_unused]] const RelationParameters<FF_>&,
                              [[maybe_unused]] const FF_& scaling_factor)
{
    using C = ColumnAndShifts;

    const auto ecc_INFINITY_X = FF(0);
    const auto ecc_INFINITY_Y = FF(0);
    const auto ecc_X_DIFF = (in.get(C::ecc_q_x) - in.get(C::ecc_p_x));
    const auto ecc_Y_DIFF = (in.get(C::ecc_q_y) - in.get(C::ecc_p_y));
    const auto ecc_INFINITY_PRED = in.get(C::ecc_x_match) * (FF(1) - in.get(C::ecc_y_match));
    const auto ecc_BOTH_INF = in.get(C::ecc_p_is_inf) * in.get(C::ecc_q_is_inf);
    const auto ecc_BOTH_NON_INF = (FF(1) - in.get(C::ecc_p_is_inf)) * (FF(1) - in.get(C::ecc_q_is_inf));
    const auto ecc_COMPUTED_R_X =
        ((in.get(C::ecc_lambda) * in.get(C::ecc_lambda) - in.get(C::ecc_p_x)) - in.get(C::ecc_q_x));
    const auto ecc_COMPUTED_R_Y =
        (in.get(C::ecc_lambda) * (in.get(C::ecc_p_x) - in.get(C::ecc_r_x)) - in.get(C::ecc_p_y));
    const auto ecc_EITHER_INF = ((in.get(C::ecc_p_is_inf) + in.get(C::ecc_q_is_inf)) - FF(2) * ecc_BOTH_INF);

    {
        using View = typename std::tuple_element_t<0, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_sel)) * (FF(1) - static_cast<View>(in.get(C::ecc_sel)));
        std::get<0>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<1, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_double_op)) * (FF(1) - static_cast<View>(in.get(C::ecc_double_op)));
        std::get<1>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<2, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_add_op)) * (FF(1) - static_cast<View>(in.get(C::ecc_add_op)));
        std::get<2>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<3, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::ecc_sel)) -
                    (static_cast<View>(in.get(C::ecc_double_op)) + static_cast<View>(in.get(C::ecc_add_op)) +
                     CView(ecc_INFINITY_PRED)));
        std::get<3>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<4, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_p_is_inf)) * (FF(1) - static_cast<View>(in.get(C::ecc_p_is_inf)));
        std::get<4>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<5, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_q_is_inf)) * (FF(1) - static_cast<View>(in.get(C::ecc_q_is_inf)));
        std::get<5>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<6, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_r_is_inf)) * (FF(1) - static_cast<View>(in.get(C::ecc_r_is_inf)));
        std::get<6>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<7, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_x_match)) * (FF(1) - static_cast<View>(in.get(C::ecc_x_match)));
        std::get<7>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<8, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_sel)) *
                   ((CView(ecc_X_DIFF) * (static_cast<View>(in.get(C::ecc_x_match)) *
                                              (FF(1) - static_cast<View>(in.get(C::ecc_inv_x_diff))) +
                                          static_cast<View>(in.get(C::ecc_inv_x_diff))) -
                     FF(1)) +
                    static_cast<View>(in.get(C::ecc_x_match)));
        std::get<8>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<9, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_y_match)) * (FF(1) - static_cast<View>(in.get(C::ecc_y_match)));
        std::get<9>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<10, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_sel)) *
                   ((CView(ecc_Y_DIFF) * (static_cast<View>(in.get(C::ecc_y_match)) *
                                              (FF(1) - static_cast<View>(in.get(C::ecc_inv_y_diff))) +
                                          static_cast<View>(in.get(C::ecc_inv_y_diff))) -
                     FF(1)) +
                    static_cast<View>(in.get(C::ecc_y_match)));
        std::get<10>(evals) += (tmp * scaling_factor);
    }
    { // DOUBLE_PRED
        using View = typename std::tuple_element_t<11, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::ecc_double_op)) -
                    static_cast<View>(in.get(C::ecc_x_match)) * static_cast<View>(in.get(C::ecc_y_match)));
        std::get<11>(evals) += (tmp * scaling_factor);
    }
    { // INFINITY_RESULT
        using View = typename std::tuple_element_t<12, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_sel)) *
                   (static_cast<View>(in.get(C::ecc_result_infinity)) -
                    (CView(ecc_INFINITY_PRED) * CView(ecc_BOTH_NON_INF) + CView(ecc_BOTH_INF)));
        std::get<12>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<13, ContainerOverSubrelations>::View;
        auto tmp =
            (FF(1) - static_cast<View>(in.get(C::ecc_result_infinity))) * static_cast<View>(in.get(C::ecc_double_op)) *
            (FF(2) * static_cast<View>(in.get(C::ecc_p_y)) * static_cast<View>(in.get(C::ecc_inv_2_p_y)) - FF(1));
        std::get<13>(evals) += (tmp * scaling_factor);
    }
    { // COMPUTED_LAMBDA
        using View = typename std::tuple_element_t<14, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_sel)) *
                   (static_cast<View>(in.get(C::ecc_lambda)) -
                    (static_cast<View>(in.get(C::ecc_double_op)) * FF(3) * static_cast<View>(in.get(C::ecc_p_x)) *
                         static_cast<View>(in.get(C::ecc_p_x)) * static_cast<View>(in.get(C::ecc_inv_2_p_y)) +
                     static_cast<View>(in.get(C::ecc_add_op)) * CView(ecc_Y_DIFF) *
                         static_cast<View>(in.get(C::ecc_inv_x_diff))));
        std::get<14>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<15, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::ecc_use_computed_result)) -
                    static_cast<View>(in.get(C::ecc_sel)) * (FF(1) - static_cast<View>(in.get(C::ecc_p_is_inf))) *
                        (FF(1) - static_cast<View>(in.get(C::ecc_q_is_inf))) * (FF(1) - CView(ecc_INFINITY_PRED)));
        std::get<15>(evals) += (tmp * scaling_factor);
    }
    { // OUTPUT_X_COORD
        using View = typename std::tuple_element_t<16, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_sel)) *
                   (((static_cast<View>(in.get(C::ecc_r_x)) -
                      CView(ecc_EITHER_INF) *
                          (static_cast<View>(in.get(C::ecc_p_is_inf)) * static_cast<View>(in.get(C::ecc_q_x)) +
                           static_cast<View>(in.get(C::ecc_q_is_inf)) * static_cast<View>(in.get(C::ecc_p_x)))) -
                     static_cast<View>(in.get(C::ecc_result_infinity)) * CView(ecc_INFINITY_X)) -
                    static_cast<View>(in.get(C::ecc_use_computed_result)) * CView(ecc_COMPUTED_R_X));
        std::get<16>(evals) += (tmp * scaling_factor);
    }
    { // OUTPUT_Y_COORD
        using View = typename std::tuple_element_t<17, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_sel)) *
                   (((static_cast<View>(in.get(C::ecc_r_y)) -
                      CView(ecc_EITHER_INF) *
                          (static_cast<View>(in.get(C::ecc_p_is_inf)) * static_cast<View>(in.get(C::ecc_q_y)) +
                           static_cast<View>(in.get(C::ecc_q_is_inf)) * static_cast<View>(in.get(C::ecc_p_y)))) -
                     static_cast<View>(in.get(C::ecc_result_infinity)) * CView(ecc_INFINITY_Y)) -
                    static_cast<View>(in.get(C::ecc_use_computed_result)) * CView(ecc_COMPUTED_R_Y));
        std::get<17>(evals) += (tmp * scaling_factor);
    }
    { // OUTPUT_INF_FLAG
        using View = typename std::tuple_element_t<18, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::ecc_sel)) *
                   (static_cast<View>(in.get(C::ecc_r_is_inf)) - static_cast<View>(in.get(C::ecc_result_infinity)));
        std::get<18>(evals) += (tmp * scaling_factor);
    }
}

} // namespace bb::avm2
