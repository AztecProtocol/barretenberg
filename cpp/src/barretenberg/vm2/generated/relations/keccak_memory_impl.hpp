// AUTOGENERATED FILE
#pragma once

#include "barretenberg/vm2/constraining/relations/relation_macros.hpp"
#include "barretenberg/vm2/generated/relations/keccak_memory.hpp"

namespace bb::avm2 {

template <typename FF_>
template <typename ContainerOverSubrelations, typename AllEntities>
void keccak_memoryImpl<FF_>::accumulate(ContainerOverSubrelations& evals,
                                        const AllEntities& in,
                                        [[maybe_unused]] const RelationParameters<FF_>&,
                                        [[maybe_unused]] const FF_& scaling_factor)
{
    using C = ColumnAndShifts;

    const auto constants_MEM_TAG_U64 = FF(5);
    const auto constants_AVM_KECCAKF1600_NUM_ROUNDS = FF(24);
    const auto constants_AVM_KECCAKF1600_STATE_SIZE = FF(25);
    const auto keccak_memory_TAG_MIN_U64 = (in.get(C::keccak_memory_tag) - constants_MEM_TAG_U64);

    {
        using View = typename std::tuple_element_t<0, ContainerOverSubrelations>::View;
        auto tmp =
            static_cast<View>(in.get(C::keccak_memory_sel)) * (FF(1) - static_cast<View>(in.get(C::keccak_memory_sel)));
        std::get<0>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<1, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_start_read)) *
                   (FF(1) - static_cast<View>(in.get(C::keccak_memory_start_read)));
        std::get<1>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<2, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_start_write)) *
                   (FF(1) - static_cast<View>(in.get(C::keccak_memory_start_write)));
        std::get<2>(evals) += (tmp * scaling_factor);
    }
    { // CTR_INIT
        using View = typename std::tuple_element_t<3, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_start_read)) +
                    static_cast<View>(in.get(C::keccak_memory_start_write))) *
                   (static_cast<View>(in.get(C::keccak_memory_ctr)) - FF(1));
        std::get<3>(evals) += (tmp * scaling_factor);
    }
    { // RW_READ_INIT
        using View = typename std::tuple_element_t<4, ContainerOverSubrelations>::View;
        auto tmp =
            static_cast<View>(in.get(C::keccak_memory_start_read)) * static_cast<View>(in.get(C::keccak_memory_rw));
        std::get<4>(evals) += (tmp * scaling_factor);
    }
    { // RW_WRITE_INIT
        using View = typename std::tuple_element_t<5, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_start_write)) *
                   (FF(1) - static_cast<View>(in.get(C::keccak_memory_rw)));
        std::get<5>(evals) += (tmp * scaling_factor);
    }
    { // SEL_CTR_NON_ZERO
        using View = typename std::tuple_element_t<6, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_ctr)) *
                        ((FF(1) - static_cast<View>(in.get(C::keccak_memory_sel))) *
                             (FF(1) - static_cast<View>(in.get(C::keccak_memory_ctr_inv))) +
                         static_cast<View>(in.get(C::keccak_memory_ctr_inv))) -
                    static_cast<View>(in.get(C::keccak_memory_sel)));
        std::get<6>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<7, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_ctr_end)) *
                   (FF(1) - static_cast<View>(in.get(C::keccak_memory_ctr_end)));
        std::get<7>(evals) += (tmp * scaling_factor);
    }
    { // CTR_END
        using View = typename std::tuple_element_t<8, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_sel)) *
                   (((static_cast<View>(in.get(C::keccak_memory_ctr)) - CView(constants_AVM_KECCAKF1600_STATE_SIZE)) *
                         (static_cast<View>(in.get(C::keccak_memory_ctr_end)) *
                              (FF(1) - static_cast<View>(in.get(C::keccak_memory_ctr_min_state_size_inv))) +
                          static_cast<View>(in.get(C::keccak_memory_ctr_min_state_size_inv))) +
                     static_cast<View>(in.get(C::keccak_memory_ctr_end))) -
                    FF(1));
        std::get<8>(evals) += (tmp * scaling_factor);
    }
    { // LAST
        using View = typename std::tuple_element_t<9, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_last)) -
                    (FF(1) - (FF(1) - static_cast<View>(in.get(C::keccak_memory_ctr_end))) *
                                 (FF(1) - static_cast<View>(in.get(C::keccak_memory_single_tag_error)))));
        std::get<9>(evals) += (tmp * scaling_factor);
    }
    { // CTR_INCREMENT
        using View = typename std::tuple_element_t<10, ContainerOverSubrelations>::View;
        auto tmp =
            static_cast<View>(in.get(C::keccak_memory_sel)) *
            (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
            ((static_cast<View>(in.get(C::keccak_memory_ctr_shift)) - static_cast<View>(in.get(C::keccak_memory_ctr))) -
             FF(1));
        std::get<10>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<11, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_single_tag_error)) *
                   (FF(1) - static_cast<View>(in.get(C::keccak_memory_single_tag_error)));
        std::get<11>(evals) += (tmp * scaling_factor);
    }
    { // NO_TAG_ERROR_ON_WRITE
        using View = typename std::tuple_element_t<12, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_rw)) *
                   static_cast<View>(in.get(C::keccak_memory_single_tag_error));
        std::get<12>(evals) += (tmp * scaling_factor);
    }
    { // TAG_ERROR_INIT
        using View = typename std::tuple_element_t<13, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_last)) *
                   (static_cast<View>(in.get(C::keccak_memory_tag_error)) -
                    static_cast<View>(in.get(C::keccak_memory_single_tag_error)));
        std::get<13>(evals) += (tmp * scaling_factor);
    }
    { // TAG_ERROR_PROPAGATION
        using View = typename std::tuple_element_t<14, ContainerOverSubrelations>::View;
        auto tmp = (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                   (static_cast<View>(in.get(C::keccak_memory_tag_error)) -
                    static_cast<View>(in.get(C::keccak_memory_tag_error_shift)));
        std::get<14>(evals) += (tmp * scaling_factor);
    }
    { // MEM_ADDR_INCREMENT
        using View = typename std::tuple_element_t<15, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_sel)) *
                   (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                   ((static_cast<View>(in.get(C::keccak_memory_addr)) + FF(1)) -
                    static_cast<View>(in.get(C::keccak_memory_addr_shift)));
        std::get<15>(evals) += (tmp * scaling_factor);
    }
    { // SPACEID_PROPAGATION
        using View = typename std::tuple_element_t<16, ContainerOverSubrelations>::View;
        auto tmp = (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                   (static_cast<View>(in.get(C::keccak_memory_space_id)) -
                    static_cast<View>(in.get(C::keccak_memory_space_id_shift)));
        std::get<16>(evals) += (tmp * scaling_factor);
    }
    { // CLK_PROPAGATION
        using View = typename std::tuple_element_t<17, ContainerOverSubrelations>::View;
        auto tmp =
            (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
            (static_cast<View>(in.get(C::keccak_memory_clk_shift)) - static_cast<View>(in.get(C::keccak_memory_clk)));
        std::get<17>(evals) += (tmp * scaling_factor);
    }
    { // RW_PROPAGATION
        using View = typename std::tuple_element_t<18, ContainerOverSubrelations>::View;
        auto tmp =
            (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
            (static_cast<View>(in.get(C::keccak_memory_rw_shift)) - static_cast<View>(in.get(C::keccak_memory_rw)));
        std::get<18>(evals) += (tmp * scaling_factor);
    }
    { // SINGLE_TAG_ERROR
        using View = typename std::tuple_element_t<19, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_sel)) *
                   (CView(keccak_memory_TAG_MIN_U64) *
                        ((FF(1) - static_cast<View>(in.get(C::keccak_memory_single_tag_error))) *
                             (FF(1) - static_cast<View>(in.get(C::keccak_memory_tag_min_u64_inv))) +
                         static_cast<View>(in.get(C::keccak_memory_tag_min_u64_inv))) -
                    static_cast<View>(in.get(C::keccak_memory_single_tag_error)));
        std::get<19>(evals) += (tmp * scaling_factor);
    }
    { // SINGLE_TAG_ERROR_BOOLEAN
        using View = typename std::tuple_element_t<20, ContainerOverSubrelations>::View;
        auto tmp = static_cast<View>(in.get(C::keccak_memory_single_tag_error)) *
                   (FF(1) - static_cast<View>(in.get(C::keccak_memory_single_tag_error)));
        std::get<20>(evals) += (tmp * scaling_factor);
    }
    { // VAL01
        using View = typename std::tuple_element_t<21, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val01)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val00_shift)));
        std::get<21>(evals) += (tmp * scaling_factor);
    }
    { // VAL02
        using View = typename std::tuple_element_t<22, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val02)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val01_shift)));
        std::get<22>(evals) += (tmp * scaling_factor);
    }
    { // VAL03
        using View = typename std::tuple_element_t<23, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val03)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val02_shift)));
        std::get<23>(evals) += (tmp * scaling_factor);
    }
    { // VAL04
        using View = typename std::tuple_element_t<24, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val04)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val03_shift)));
        std::get<24>(evals) += (tmp * scaling_factor);
    }
    { // VAL10
        using View = typename std::tuple_element_t<25, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val10)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val04_shift)));
        std::get<25>(evals) += (tmp * scaling_factor);
    }
    { // VAL11
        using View = typename std::tuple_element_t<26, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val11)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val10_shift)));
        std::get<26>(evals) += (tmp * scaling_factor);
    }
    { // VAL12
        using View = typename std::tuple_element_t<27, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val12)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val11_shift)));
        std::get<27>(evals) += (tmp * scaling_factor);
    }
    { // VAL13
        using View = typename std::tuple_element_t<28, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val13)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val12_shift)));
        std::get<28>(evals) += (tmp * scaling_factor);
    }
    { // VAL14
        using View = typename std::tuple_element_t<29, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val14)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val13_shift)));
        std::get<29>(evals) += (tmp * scaling_factor);
    }
    { // VAL20
        using View = typename std::tuple_element_t<30, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val20)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val14_shift)));
        std::get<30>(evals) += (tmp * scaling_factor);
    }
    { // VAL21
        using View = typename std::tuple_element_t<31, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val21)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val20_shift)));
        std::get<31>(evals) += (tmp * scaling_factor);
    }
    { // VAL22
        using View = typename std::tuple_element_t<32, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val22)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val21_shift)));
        std::get<32>(evals) += (tmp * scaling_factor);
    }
    { // VAL23
        using View = typename std::tuple_element_t<33, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val23)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val22_shift)));
        std::get<33>(evals) += (tmp * scaling_factor);
    }
    { // VAL24
        using View = typename std::tuple_element_t<34, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val24)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val23_shift)));
        std::get<34>(evals) += (tmp * scaling_factor);
    }
    { // VAL30
        using View = typename std::tuple_element_t<35, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val30)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val24_shift)));
        std::get<35>(evals) += (tmp * scaling_factor);
    }
    { // VAL31
        using View = typename std::tuple_element_t<36, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val31)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val30_shift)));
        std::get<36>(evals) += (tmp * scaling_factor);
    }
    { // VAL32
        using View = typename std::tuple_element_t<37, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val32)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val31_shift)));
        std::get<37>(evals) += (tmp * scaling_factor);
    }
    { // VAL33
        using View = typename std::tuple_element_t<38, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val33)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val32_shift)));
        std::get<38>(evals) += (tmp * scaling_factor);
    }
    { // VAL34
        using View = typename std::tuple_element_t<39, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val34)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val33_shift)));
        std::get<39>(evals) += (tmp * scaling_factor);
    }
    { // VAL40
        using View = typename std::tuple_element_t<40, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val40)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val34_shift)));
        std::get<40>(evals) += (tmp * scaling_factor);
    }
    { // VAL41
        using View = typename std::tuple_element_t<41, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val41)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val40_shift)));
        std::get<41>(evals) += (tmp * scaling_factor);
    }
    { // VAL42
        using View = typename std::tuple_element_t<42, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val42)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val41_shift)));
        std::get<42>(evals) += (tmp * scaling_factor);
    }
    { // VAL43
        using View = typename std::tuple_element_t<43, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val43)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val42_shift)));
        std::get<43>(evals) += (tmp * scaling_factor);
    }
    { // VAL44
        using View = typename std::tuple_element_t<44, ContainerOverSubrelations>::View;
        auto tmp = (static_cast<View>(in.get(C::keccak_memory_val44)) -
                    (FF(1) - static_cast<View>(in.get(C::keccak_memory_last))) *
                        static_cast<View>(in.get(C::keccak_memory_val43_shift)));
        std::get<44>(evals) += (tmp * scaling_factor);
    }
    {
        using View = typename std::tuple_element_t<45, ContainerOverSubrelations>::View;
        auto tmp =
            static_cast<View>(in.get(C::keccak_memory_sel)) *
            (static_cast<View>(in.get(C::keccak_memory_num_rounds)) - CView(constants_AVM_KECCAKF1600_NUM_ROUNDS));
        std::get<45>(evals) += (tmp * scaling_factor);
    }
}

} // namespace bb::avm2
