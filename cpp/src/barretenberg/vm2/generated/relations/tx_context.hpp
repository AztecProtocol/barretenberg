// AUTOGENERATED FILE
#pragma once

#include <string_view>

#include "barretenberg/common/bb_bench.hpp"
#include "barretenberg/relations/relation_parameters.hpp"
#include "barretenberg/relations/relation_types.hpp"
#include "barretenberg/vm2/generated/columns.hpp"

namespace bb::avm2 {

template <typename FF_> class tx_contextImpl {
  public:
    using FF = FF_;

    static constexpr std::array<size_t, 80> SUBRELATION_PARTIAL_LENGTHS = {
        3, 3, 2, 3, 3, 3, 2, 3, 3, 3, 2, 3, 3, 3, 3, 2, 3, 3, 3, 3, 2, 3, 3, 2, 3, 3, 5,
        5, 5, 5, 5, 5, 5, 5, 5, 5, 4, 4, 4, 5, 5, 3, 4, 4, 5, 5, 4, 4, 4, 4, 4, 4, 4, 4,
        4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 5
    };

    template <typename AllEntities> inline static bool skip(const AllEntities& in)
    {
        using C = ColumnAndShifts;

        return (in.get(C::tx_sel)).is_zero();
    }

    template <typename ContainerOverSubrelations, typename AllEntities>
    void static accumulate(ContainerOverSubrelations& evals,
                           const AllEntities& in,
                           [[maybe_unused]] const RelationParameters<FF>&,
                           [[maybe_unused]] const FF& scaling_factor);
};

template <typename FF> class tx_context : public Relation<tx_contextImpl<FF>> {
  public:
    static constexpr const std::string_view NAME = "tx_context";

    // Subrelation indices constants, to be used in tests.
    static constexpr size_t SR_NOTE_HASH_ROOT_CONTINUITY = 26;
    static constexpr size_t SR_NOTE_HASH_TREE_SIZE_CONTINUITY = 27;
    static constexpr size_t SR_NUM_NOTE_HASHES_EMITTED_CONTINUITY = 28;
    static constexpr size_t SR_NULLIFIER_TREE_ROOT_CONTINUITY = 29;
    static constexpr size_t SR_NULLIFIER_TREE_SIZE_CONTINUITY = 30;
    static constexpr size_t SR_NUM_NULLIFIERS_EMITTED_CONTINUITY = 31;
    static constexpr size_t SR_PUBLIC_DATA_TREE_ROOT_CONTINUITY = 32;
    static constexpr size_t SR_PUBLIC_DATA_TREE_SIZE_CONTINUITY = 33;
    static constexpr size_t SR_WRITTEN_PUBLIC_DATA_SLOTS_TREE_ROOT_CONTINUITY = 34;
    static constexpr size_t SR_WRITTEN_PUBLIC_DATA_SLOTS_TREE_SIZE_CONTINUITY = 35;
    static constexpr size_t SR_L1_L2_TREE_ROOT_CONTINUITY = 36;
    static constexpr size_t SR_RETRIEVED_BYTECODES_TREE_ROOT_CONTINUITY = 37;
    static constexpr size_t SR_RETRIEVED_BYTECODES_TREE_SIZE_CONTINUITY = 38;
    static constexpr size_t SR_NUM_UNENCRYPTED_LOGS_CONTINUITY = 39;
    static constexpr size_t SR_NUM_L2_TO_L1_MESSAGES_CONTINUITY = 40;
    static constexpr size_t SR_PROPAGATE_L2_GAS_USED = 42;
    static constexpr size_t SR_PROPAGATE_DA_GAS_USED = 43;
    static constexpr size_t SR_PROPAGATE_L2_GAS_LIMIT = 44;
    static constexpr size_t SR_PROPAGATE_DA_GAS_LIMIT = 45;
    static constexpr size_t SR_NOTE_HASH_ROOT_IMMUTABILITY = 46;
    static constexpr size_t SR_NOTE_HASH_SIZE_IMMUTABILITY = 47;
    static constexpr size_t SR_NOTE_HASH_COUNT_IMMUTABILITY = 48;
    static constexpr size_t SR_NULLIFIER_ROOT_IMMUTABILITY = 49;
    static constexpr size_t SR_NULLIFIER_SIZE_IMMUTABILITY = 50;
    static constexpr size_t SR_NULLIFIER_COUNT_IMMUTABILITY = 51;
    static constexpr size_t SR_PUBLIC_DATA_ROOT_IMMUTABILITY = 52;
    static constexpr size_t SR_PUBLIC_DATA_SIZE_IMMUTABILITY = 53;
    static constexpr size_t SR_WRITTEN_PUBLIC_DATA_SLOTS_ROOT_IMMUTABILITY = 54;
    static constexpr size_t SR_WRITTEN_PUBLIC_DATA_SLOTS_SIZE_IMMUTABILITY = 55;
    static constexpr size_t SR_UNENCRYPTED_LOG_COUNT_IMMUTABILITY = 56;
    static constexpr size_t SR_L2_TO_L1_MESSAGE_COUNT_IMMUTABILITY = 57;
    static constexpr size_t SR_RETRIEVED_BYTECODES_TREE_ROOT_IMMUTABILITY = 58;
    static constexpr size_t SR_RETRIEVED_BYTECODES_TREE_SIZE_IMMUTABILITY = 59;
    static constexpr size_t SR_NOTE_HASH_ROOT_PADDED_IMMUTABILITY = 60;
    static constexpr size_t SR_NOTE_HASH_SIZE_PADDED_IMMUTABILITY = 61;
    static constexpr size_t SR_NOTE_HASH_COUNT_PADDED_IMMUTABILITY = 62;
    static constexpr size_t SR_NULLIFIER_ROOT_PADDED_IMMUTABILITY = 63;
    static constexpr size_t SR_NULLIFIER_SIZE_PADDED_IMMUTABILITY = 64;
    static constexpr size_t SR_NULLIFIER_COUNT_PADDED_IMMUTABILITY = 65;
    static constexpr size_t SR_PUBLIC_DATA_ROOT_PADDED_IMMUTABILITY = 66;
    static constexpr size_t SR_PUBLIC_DATA_SIZE_PADDED_IMMUTABILITY = 67;
    static constexpr size_t SR_WRITTEN_PUBLIC_DATA_SLOTS_ROOT_PADDED_IMMUTABILITY = 68;
    static constexpr size_t SR_WRITTEN_PUBLIC_DATA_SLOTS_SIZE_PADDED_IMMUTABILITY = 69;
    static constexpr size_t SR_UNENCRYPTED_LOG_COUNT_PADDED_IMMUTABILITY = 70;
    static constexpr size_t SR_L2_TO_L1_MESSAGE_COUNT_PADDED_IMMUTABILITY = 71;
    static constexpr size_t SR_L2_GAS_USED_IMMUTABILITY = 72;
    static constexpr size_t SR_DA_GAS_USED_IMMUTABILITY = 73;
    static constexpr size_t SR_NEXT_CONTEXT_ID_INITIAL_VALUE = 78;
    static constexpr size_t SR_NEXT_CONTEXT_ID_CONTINUITY = 79;

    static std::string get_subrelation_label(size_t index)
    {
        switch (index) {
        case SR_NOTE_HASH_ROOT_CONTINUITY:
            return "NOTE_HASH_ROOT_CONTINUITY";
        case SR_NOTE_HASH_TREE_SIZE_CONTINUITY:
            return "NOTE_HASH_TREE_SIZE_CONTINUITY";
        case SR_NUM_NOTE_HASHES_EMITTED_CONTINUITY:
            return "NUM_NOTE_HASHES_EMITTED_CONTINUITY";
        case SR_NULLIFIER_TREE_ROOT_CONTINUITY:
            return "NULLIFIER_TREE_ROOT_CONTINUITY";
        case SR_NULLIFIER_TREE_SIZE_CONTINUITY:
            return "NULLIFIER_TREE_SIZE_CONTINUITY";
        case SR_NUM_NULLIFIERS_EMITTED_CONTINUITY:
            return "NUM_NULLIFIERS_EMITTED_CONTINUITY";
        case SR_PUBLIC_DATA_TREE_ROOT_CONTINUITY:
            return "PUBLIC_DATA_TREE_ROOT_CONTINUITY";
        case SR_PUBLIC_DATA_TREE_SIZE_CONTINUITY:
            return "PUBLIC_DATA_TREE_SIZE_CONTINUITY";
        case SR_WRITTEN_PUBLIC_DATA_SLOTS_TREE_ROOT_CONTINUITY:
            return "WRITTEN_PUBLIC_DATA_SLOTS_TREE_ROOT_CONTINUITY";
        case SR_WRITTEN_PUBLIC_DATA_SLOTS_TREE_SIZE_CONTINUITY:
            return "WRITTEN_PUBLIC_DATA_SLOTS_TREE_SIZE_CONTINUITY";
        case SR_L1_L2_TREE_ROOT_CONTINUITY:
            return "L1_L2_TREE_ROOT_CONTINUITY";
        case SR_RETRIEVED_BYTECODES_TREE_ROOT_CONTINUITY:
            return "RETRIEVED_BYTECODES_TREE_ROOT_CONTINUITY";
        case SR_RETRIEVED_BYTECODES_TREE_SIZE_CONTINUITY:
            return "RETRIEVED_BYTECODES_TREE_SIZE_CONTINUITY";
        case SR_NUM_UNENCRYPTED_LOGS_CONTINUITY:
            return "NUM_UNENCRYPTED_LOGS_CONTINUITY";
        case SR_NUM_L2_TO_L1_MESSAGES_CONTINUITY:
            return "NUM_L2_TO_L1_MESSAGES_CONTINUITY";
        case SR_PROPAGATE_L2_GAS_USED:
            return "PROPAGATE_L2_GAS_USED";
        case SR_PROPAGATE_DA_GAS_USED:
            return "PROPAGATE_DA_GAS_USED";
        case SR_PROPAGATE_L2_GAS_LIMIT:
            return "PROPAGATE_L2_GAS_LIMIT";
        case SR_PROPAGATE_DA_GAS_LIMIT:
            return "PROPAGATE_DA_GAS_LIMIT";
        case SR_NOTE_HASH_ROOT_IMMUTABILITY:
            return "NOTE_HASH_ROOT_IMMUTABILITY";
        case SR_NOTE_HASH_SIZE_IMMUTABILITY:
            return "NOTE_HASH_SIZE_IMMUTABILITY";
        case SR_NOTE_HASH_COUNT_IMMUTABILITY:
            return "NOTE_HASH_COUNT_IMMUTABILITY";
        case SR_NULLIFIER_ROOT_IMMUTABILITY:
            return "NULLIFIER_ROOT_IMMUTABILITY";
        case SR_NULLIFIER_SIZE_IMMUTABILITY:
            return "NULLIFIER_SIZE_IMMUTABILITY";
        case SR_NULLIFIER_COUNT_IMMUTABILITY:
            return "NULLIFIER_COUNT_IMMUTABILITY";
        case SR_PUBLIC_DATA_ROOT_IMMUTABILITY:
            return "PUBLIC_DATA_ROOT_IMMUTABILITY";
        case SR_PUBLIC_DATA_SIZE_IMMUTABILITY:
            return "PUBLIC_DATA_SIZE_IMMUTABILITY";
        case SR_WRITTEN_PUBLIC_DATA_SLOTS_ROOT_IMMUTABILITY:
            return "WRITTEN_PUBLIC_DATA_SLOTS_ROOT_IMMUTABILITY";
        case SR_WRITTEN_PUBLIC_DATA_SLOTS_SIZE_IMMUTABILITY:
            return "WRITTEN_PUBLIC_DATA_SLOTS_SIZE_IMMUTABILITY";
        case SR_UNENCRYPTED_LOG_COUNT_IMMUTABILITY:
            return "UNENCRYPTED_LOG_COUNT_IMMUTABILITY";
        case SR_L2_TO_L1_MESSAGE_COUNT_IMMUTABILITY:
            return "L2_TO_L1_MESSAGE_COUNT_IMMUTABILITY";
        case SR_RETRIEVED_BYTECODES_TREE_ROOT_IMMUTABILITY:
            return "RETRIEVED_BYTECODES_TREE_ROOT_IMMUTABILITY";
        case SR_RETRIEVED_BYTECODES_TREE_SIZE_IMMUTABILITY:
            return "RETRIEVED_BYTECODES_TREE_SIZE_IMMUTABILITY";
        case SR_NOTE_HASH_ROOT_PADDED_IMMUTABILITY:
            return "NOTE_HASH_ROOT_PADDED_IMMUTABILITY";
        case SR_NOTE_HASH_SIZE_PADDED_IMMUTABILITY:
            return "NOTE_HASH_SIZE_PADDED_IMMUTABILITY";
        case SR_NOTE_HASH_COUNT_PADDED_IMMUTABILITY:
            return "NOTE_HASH_COUNT_PADDED_IMMUTABILITY";
        case SR_NULLIFIER_ROOT_PADDED_IMMUTABILITY:
            return "NULLIFIER_ROOT_PADDED_IMMUTABILITY";
        case SR_NULLIFIER_SIZE_PADDED_IMMUTABILITY:
            return "NULLIFIER_SIZE_PADDED_IMMUTABILITY";
        case SR_NULLIFIER_COUNT_PADDED_IMMUTABILITY:
            return "NULLIFIER_COUNT_PADDED_IMMUTABILITY";
        case SR_PUBLIC_DATA_ROOT_PADDED_IMMUTABILITY:
            return "PUBLIC_DATA_ROOT_PADDED_IMMUTABILITY";
        case SR_PUBLIC_DATA_SIZE_PADDED_IMMUTABILITY:
            return "PUBLIC_DATA_SIZE_PADDED_IMMUTABILITY";
        case SR_WRITTEN_PUBLIC_DATA_SLOTS_ROOT_PADDED_IMMUTABILITY:
            return "WRITTEN_PUBLIC_DATA_SLOTS_ROOT_PADDED_IMMUTABILITY";
        case SR_WRITTEN_PUBLIC_DATA_SLOTS_SIZE_PADDED_IMMUTABILITY:
            return "WRITTEN_PUBLIC_DATA_SLOTS_SIZE_PADDED_IMMUTABILITY";
        case SR_UNENCRYPTED_LOG_COUNT_PADDED_IMMUTABILITY:
            return "UNENCRYPTED_LOG_COUNT_PADDED_IMMUTABILITY";
        case SR_L2_TO_L1_MESSAGE_COUNT_PADDED_IMMUTABILITY:
            return "L2_TO_L1_MESSAGE_COUNT_PADDED_IMMUTABILITY";
        case SR_L2_GAS_USED_IMMUTABILITY:
            return "L2_GAS_USED_IMMUTABILITY";
        case SR_DA_GAS_USED_IMMUTABILITY:
            return "DA_GAS_USED_IMMUTABILITY";
        case SR_NEXT_CONTEXT_ID_INITIAL_VALUE:
            return "NEXT_CONTEXT_ID_INITIAL_VALUE";
        case SR_NEXT_CONTEXT_ID_CONTINUITY:
            return "NEXT_CONTEXT_ID_CONTINUITY";
        }
        return std::to_string(index);
    }
};

} // namespace bb::avm2
