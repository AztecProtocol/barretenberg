// WARNING: FILE CODE GENERATED BY BINDGEN UTILITY. DO NOT EDIT!
/* eslint-disable @typescript-eslint/no-unused-vars */
import { BarretenbergBinder } from '../barretenberg_binder/index.js';
import { BufferDeserializer, NumberDeserializer, VectorDeserializer, BoolDeserializer } from '../serialize/index.js';
import { Fr, Fq, Point, Buffer32, Buffer128, Ptr } from '../types/index.js';

export class BarretenbergApi {
  constructor(public binder: BarretenbergBinder) {}

  async destroy() {
    await this.binder.wasm.destroy();
  }

  async eccNewPippenger(points: Uint8Array, numPoints: number): Promise<Ptr> {
    const result = await this.binder.callWasmExport('ecc_new_pippenger', [points, numPoints], [Ptr]);
    return result[0];
  }

  async eccDeletePippenger(pippenger: Ptr): Promise<void> {
    const result = await this.binder.callWasmExport('ecc_delete_pippenger', [pippenger], []);
    return;
  }

  async eccPippengerUnsafe(pippengerPtr: Ptr, scalarsPtr: Ptr, from: number, range: number): Promise<Point> {
    const result = await this.binder.callWasmExport('ecc_pippenger_unsafe', [pippengerPtr, scalarsPtr, from, range], [Point]);
    return result[0];
  }

  async eccG1Sum(pointsPtr: Ptr, numPoints: number): Promise<Point> {
    const result = await this.binder.callWasmExport('ecc_g1_sum', [pointsPtr, numPoints], [Point]);
    return result[0];
  }

  async examplesSimpleCreateAndVerifyProof(pippenger: Ptr, g2x: Uint8Array): Promise<boolean> {
    const result = await this.binder.callWasmExport('examples_simple_create_and_verify_proof', [pippenger, g2x], [BoolDeserializer()]);
    return result[0];
  }
}
